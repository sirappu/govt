SET SERVEROUTPUT ON;


CREATE OR REPLACE PACKAGE C_PACKAGE
AS
    PROCEDURE GET_SALARY(CUST_ID IN CUSTOMERS.ID%TYPE);
    PROCEDURE DISPLAY_CONTENTS;
    FUNCTION SQUARE_NUMBER(X INTEGER) RETURN INTEGER;
END C_PACKAGE;
/


CREATE OR REPLACE PACKAGE BODY C_PACKAGE
AS
    PROCEDURE GET_SALARY(CUST_ID IN CUSTOMERS.ID%TYPE)
    AS
        CUST_SALARY CUSTOMERS.SALARY%TYPE;
    BEGIN
        SELECT SALARY
            INTO CUST_SALARY
        FROM CUSTOMERS
        WHERE ID = CUST_ID;
        DBMS_OUTPUT.PUT_LINE('The Salary of '||CUST_ID||' is '||' '||CUST_SALARY);
    END;
    
    
    PROCEDURE DISPLAY_CONTENTS
    AS
        CURSOR CUST_CURSOR IS
            SELECT *
            FROM CUSTOMERS;
        REC CUST_CURSOR%ROWTYPE;
    BEGIN
        OPEN CUST_CURSOR;
        LOOP
            FETCH CUST_CURSOR
                INTO REC;
            EXIT WHEN CUST_CURSOR%NOTFOUND;
            DBMS_OUTPUT.PUT_LINE(REC.ID||' '||REC.NAME||' '||REC.AGE||' '||REC.ADDRESS||' '||REC.SALARY);
        END LOOP;
    END;
    
    FUNCTION SQUARE_NUMBER(X INTEGER)
    RETURN INTEGER AS
    BEGIN
        RETURN X*X;
    END;
END C_PACKAGE;
/



DECLARE
    CUST_ID CUSTOMERS.ID%TYPE := 1;
    X INTEGER := 25;
BEGIN
    C_PACKAGE.GET_SALARY(CUST_ID);
    C_PACKAGE.DISPLAY_CONTENTS;
    X := C_PACKAGE.SQUARE_NUMBER(X);
    DBMS_OUTPUT.PUT_LINE('The Square the given number is '||X);
END;
